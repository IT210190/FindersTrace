<!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <title>FindersTrace</title>
                <link rel="stylesheet" href="../style.css">
            </head>
            <body>
                <nav>
                    <div id="logo">
                        <img src="../img/logo.png" alt="logo">
                        <h1>FindersTrace</h1>
                    </div>
                    <a href="../">Start</a>
                    <a href="../report">Report</a>
                    <img id="usericon" src="../img/defaultuser.svg" alt="usericon">
                </nav>
                {#if line != null }
                    try {
                        mng.addItem(factory.createFromString(line));
                        mng.AddItemsToFile(../data/reportedItems.csv");
                        <form><h1>Reported Item successfully</h1></form>
                    } catch (Exception e) {
                        <form><h1>Reported Item failed</h1></form>
                    }
                {#else}
                    <form id="reportForm" method="get" action="../report">
                        <h1>Report an Item</h1>
                        <div class="inputs">
                            <label for="RTitel">Titel</label>
                            <input id="RTitel" placeholder="TITEL"></input>
                        </div>
        
                        <div class="inputs">
                            <label for="RDescription">Description</label>
                            <textarea id="RDescription" placeholder="DESCRIPTION"></textarea>
                        </div>
        
                        <div class="inputs">
                            <label for="RImage">Image URL</label>
                            <input id="RImage" placeholder="IMAGE URL (optional) | x if no img available"></input>
                        </div>
        
                        <div id="LorF">
                            <input type="radio" id="lost" name="lostOrFound" value="LOST" checked>LOST</input>
                            <input type="radio" id="found" name="lostOrFound" value="FOUND">FOUND</input>
                        </div>
        
                        <input id="RSubmit" type="submit" value="SUBMIT"></input>
                    </form>
        
                    <script>
                        document.getElementById('reportForm').addEventListener('submit', function(event) {
                            event.preventDefault();
                            var title = document.getElementById('RTitel').value ?? '';
                            var description = document.getElementById('RDescription').value;
                            var image = document.getElementById('RImage').value;
                            var status = document.querySelector('input[name="lostOrFound"]:checked').value;
                            if (title == '') {
                                console.log("Title is empty");
                                document.getElementById('RTitel').style.border = '2px solid red';
                                document.getElementById('RDescription').value = description;
                                document.getElementById('RImage').value = image;
                                return;
                            }
        
                            var csv = title + ';' + description + ';' + status + ';' + image;
                            window.location.href = this.action + '?i=' + encodeURIComponent(csv);
                        });
                    </script>

                {/if}
           
                
                </body>
                </html>